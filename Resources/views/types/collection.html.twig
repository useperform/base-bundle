{% extends 'PerformBaseBundle:types:simple.html.twig' %}

{% block view %}
  {% if admin is not null %}
    <ul>
      {% for item in collection %}
        <li>
          {{admin.getNameForEntity(item)}}
        </li>
      {% endfor %}
    </ul>
  {% endif %}
{% endblock %}

{% block create %}
  <div class="collection" data-field="{{field}}">
    <a class="btn btn-primary add-item" href="#">
      <i class="fa fa-plus"></i>
    </a>
    <div class="collection-rows" id="collection-{{field}}">
      {% for item in row %}
        <div class="collection-row">
          {{form_widget(item)}}
          <a class="btn btn-danger remove-item" href="#">
            <i class="fa fa-trash-o"></i>
          </a>
        </div>
      {% endfor %}
    </div>
  </div>

  <script type="text/template" id="template-collection-{{field}}">
     <div class="collection-row">
      {{form_widget(row.vars.prototype)}}
      <a class="btn btn-danger remove-item" href="#">
        <i class="fa fa-trash-o"></i>
      </a>
     </div>
  </script>
{% endblock %}
